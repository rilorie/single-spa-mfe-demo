{"version":3,"file":"node_modules_single-spa-html_lib_single-spa-html_js.js","mappings":"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","sources":["webpack://product-image/../src/single-spa-html.js"],"sourcesContent":["const defaultOpts = {\n  template: \"\",\n  domElementGetter: null,\n};\n\nexport default function singleSpaHtml(opts) {\n  if (!opts) {\n    throw Error(`single-spa-html must be called with an opts object`);\n  }\n\n  opts = { ...defaultOpts, ...opts };\n\n  if (\n    (typeof opts.template !== \"string\" || opts.template.trim().length === 0) &&\n    typeof opts.template !== \"function\"\n  ) {\n    throw Error(\n      `single-spa-html must be passed a 'template' opt that is a non empty string or function`\n    );\n  }\n\n  if (opts.domElementGetter && typeof opts.domElementGetter !== \"function\") {\n    throw Error(\n      `single-spa-html was given 'opts.domElementGetter', but it isn't a function`\n    );\n  }\n\n  return {\n    bootstrap: bootstrap.bind(null, opts),\n    mount: mount.bind(null, opts),\n    unmount: unmount.bind(null, opts),\n  };\n}\n\nfunction bootstrap(opts, props) {\n  return Promise.resolve();\n}\n\nfunction mount(opts, props) {\n  return Promise.resolve(\n    typeof opts.template === \"function\" ? opts.template(props) : opts.template\n  ).then((template) => {\n    const domElementGetter = chooseDomElementGetter(opts, props);\n    const domEl = domElementGetter(props);\n    if (!domEl) {\n      throw Error(\n        `single-spa-html: domElementGetter did not return a valid dom element`\n      );\n    }\n    domEl.innerHTML = template;\n  });\n}\n\nfunction unmount(opts, props) {\n  return Promise.resolve().then(() => {\n    const domElementGetter = chooseDomElementGetter(opts, props);\n    const domEl = domElementGetter(props);\n    if (!domEl) {\n      throw Error(\n        `single-spa-html: domElementGetter did not return a valid dom element`\n      );\n    }\n    domEl.innerHTML = \"\";\n  });\n}\n\nfunction chooseDomElementGetter(opts, props) {\n  if (props.domElement) {\n    return () => props.domElement;\n  } else if (props.domElementGetter) {\n    return props.domElementGetter;\n  } else if (opts.domElementGetter) {\n    return opts.domElementGetter;\n  } else {\n    return defaultDomElementGetter(props);\n  }\n}\n\nfunction defaultDomElementGetter(props) {\n  const name = props.appName || props.name;\n\n  if (!name) {\n    throw Error(\n      `single-spa-html was not given an application name as a prop, so it can't make a unique dom element container for the ht l application`\n    );\n  }\n  const htmlId = `single-spa-application:${name}`;\n\n  return function defaultDomEl() {\n    let domElement = document.getElementById(htmlId);\n    if (!domElement) {\n      domElement = document.createElement(\"div\");\n      domElement.id = htmlId;\n      document.body.appendChild(domElement);\n    }\n\n    return domElement;\n  };\n}\n"],"names":["defaultOpts","template","domElementGetter","singleSpaHtml","opts","Error","trim","length","bootstrap","bind","mount","unmount","props","Promise","resolve","then","chooseDomElementGetter","domEl","innerHTML","domElement","defaultDomElementGetter","name","appName","htmlId","defaultDomEl","document","getElementById","createElement","id","body","appendChild"],"sourceRoot":""}